{"remainingRequest":"/Users/xiaofei.bao/Desktop/vue/keywords-advantage-list/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/xiaofei.bao/Desktop/vue/keywords-advantage-list/src/container/keywords-advantage/keywords-advantage.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/xiaofei.bao/Desktop/vue/keywords-advantage-list/src/container/keywords-advantage/keywords-advantage.vue","mtime":1633936768737},{"path":"/Users/xiaofei.bao/Desktop/vue/keywords-advantage-list/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiaofei.bao/Desktop/vue/keywords-advantage-list/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/xiaofei.bao/Desktop/vue/keywords-advantage-list/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/xiaofei.bao/Desktop/vue/keywords-advantage-list/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBkcmFnZ2FibGUgZnJvbSAidnVlZHJhZ2dhYmxlIjsKaW1wb3J0IFRpdGxlIGZyb20gIi4vdGl0bGUiOwppbXBvcnQgRmVhdHVyZSBmcm9tICIuL2ZlYXR1cmUiOwppbXBvcnQgRWRpdG9ySW5wdXQgZnJvbSAiLi9lZGl0b3ItaW5wdXQiOwppbXBvcnQgUGFwYSBmcm9tICJwYXBhcGFyc2UiOwppbXBvcnQganNjaGFyZGV0IGZyb20gImpzY2hhcmRldCI7CgpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogeyBkcmFnZ2FibGUsIFRpdGxlLCBGZWF0dXJlLCBFZGl0b3JJbnB1dCB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBhY3RpdmVUYWI6ICJ0YWItZmlyc3QiLAogICAgICBrZXl3b3Jkc0FycmF5OiBbXSwKICAgICAgZWRpdG9yOiB7CiAgICAgICAgdGl0bGU6ICIiLAogICAgICAgIGlucHV0OiAiIiwKICAgICAgICBvdXQ6ICIiLAogICAgICAgIGZlYXR1cmVzOiBbCiAgICAgICAgICB7CiAgICAgICAgICAgIHRpdGxlOiAi5YWz6ZSu6K+NMSIsCiAgICAgICAgICAgIHZhbHVlOiAiIiwKICAgICAgICAgICAgcGxhY2VIb2xkZXI6ICLor7fovpPlhaXlhbPplK7or40iCiAgICAgICAgICB9LAogICAgICAgICAgewogICAgICAgICAgICB0aXRsZTogIuWFs+mUruivjTIiLAogICAgICAgICAgICB2YWx1ZTogIiIsCiAgICAgICAgICAgIHBsYWNlSG9sZGVyOiAi6K+36L6T5YWl5YWz6ZSu6K+NIgogICAgICAgICAgfSwKICAgICAgICAgIHsKICAgICAgICAgICAgdGl0bGU6ICLlhbPplK7or40zIiwKICAgICAgICAgICAgdmFsdWU6ICIiLAogICAgICAgICAgICBwbGFjZUhvbGRlcjogIuivt+i+k+WFpeWFs+mUruivjSIKICAgICAgICAgIH0sCiAgICAgICAgICB7CiAgICAgICAgICAgIHRpdGxlOiAi5Lqn5ZOB5o+P6L+wIiwKICAgICAgICAgICAgdmFsdWU6ICIiLAogICAgICAgICAgICBpbnB1dEhlaWdodDogIjI1dmgiLAogICAgICAgICAgICBwbGFjZUhvbGRlcjogIuivt+i+k+WFpeS6p+WTgeaPj+i/sCIKICAgICAgICAgIH0KICAgICAgICBdCiAgICAgIH0KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgZWRpdG9yOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uKHZhbCkgewogICAgICAgIC8vRklYTUU6IOi+k+WFpeOAgei+k+WHuuS4jei/m+ihjOS4i+mdoueahOS7o+eggQogICAgICAgIHRoaXMuX2NvdW50UmVmZXIodmFsKTsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlSW1wb3J0Q1NWKCkgewogICAgICBsZXQgc2VsZWN0ZWRGaWxlID0gbnVsbDsKICAgICAgc2VsZWN0ZWRGaWxlID0gdGhpcy4kcmVmcy5yZWZGaWxlLmZpbGVzWzBdOwogICAgICBpZiAoc2VsZWN0ZWRGaWxlID09PSB1bmRlZmluZWQpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CiAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKHNlbGVjdGVkRmlsZSk7CiAgICAgIHJlYWRlci5vbmxvYWQgPSBldnQgPT4gewogICAgICAgIC8vIOajgOafpee8lueggQogICAgICAgIGxldCBlbmNvZGluZyA9IHRoaXMuX2NoZWNrRW5jb2RpbmcoZXZ0LnRhcmdldC5yZXN1bHQpOwogICAgICAgIC8vIOWwhmNzdui9rOaNouaIkOS6jOe7tOaVsOe7hAogICAgICAgIFBhcGEucGFyc2Uoc2VsZWN0ZWRGaWxlLCB7CiAgICAgICAgICBlbmNvZGluZzogZW5jb2RpbmcsCiAgICAgICAgICBjb21wbGV0ZTogcmVzID0+IHsKICAgICAgICAgICAgLy8gVVRGOCBcclxu5LiOXG7mt7fnlKjml7bmnInlj6/og73kvJrlh7rpl67popgKICAgICAgICAgICAgbGV0IGRhdGEgPSByZXMuZGF0YTsKICAgICAgICAgICAgaWYgKGRhdGFbZGF0YS5sZW5ndGggLSAxXSA9PSAiIikgewogICAgICAgICAgICAgIC8v5Y676Zmk5pyA5ZCO55qE56m66KGMCiAgICAgICAgICAgICAgZGF0YS5wb3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICB0aGlzLl9wYXJzZUNTVkRhdGEoZGF0YSk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9LAogICAgaGFuZGxlRGVsZXRlKGluZGV4KSB7CiAgICAgIHRoaXMua2V5d29yZHNBcnJheS5zcGxpY2UoaW5kZXgsIDEpOwogICAgfSwKICAgIGFkZEluTGlzdCgpIHsKICAgICAgaWYgKHRoaXMuZWRpdG9yLm91dCkgewogICAgICAgIGxldCBvdXQgPSB0aGlzLmVkaXRvci5vdXQucmVwbGFjZSgvXG4rL2csICJcbiIpOwogICAgICAgIGxldCBvdXRBcnIgPSBvdXQuc3BsaXQoIlxuIik7CiAgICAgICAgb3V0QXJyLmZvckVhY2goZSA9PiB7CiAgICAgICAgICB0aGlzLmtleXdvcmRzQXJyYXkucHVzaCh7CiAgICAgICAgICAgIG5hbWU6IGUsCiAgICAgICAgICAgIHVzZTogMCwKICAgICAgICAgICAgY2xpY2s6IDAsCiAgICAgICAgICAgIHNlYXJjaDogMCwKICAgICAgICAgICAgYXBwZWFyOiAwLAogICAgICAgICAgICBpc1RpdGxlSGFzOiBmYWxzZSwKICAgICAgICAgICAgaXNGZWF0dXJlSGFzOiBmYWxzZSwKICAgICAgICAgICAgaXNEZXNjSGFzOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5fY291bnRSZWZlcih0aGlzLmVkaXRvcik7CiAgICAgIH0KICAgIH0sCiAgICBoYW5kbGVTb3J0KCkgewogICAgICBpZiAodGhpcy5rZXl3b3Jkc0FycmF5Lmxlbmd0aCA9PSAwKSByZXR1cm47CiAgICAgIHZhciBzID0gdGhpcy5rZXl3b3Jkc0FycmF5LnNvcnQodGhpcy5fc29ydEtleXNBcnJheSk7CiAgICAgIHRoaXMua2V5d29yZHNBcnJheSA9IHM7CiAgICB9LAogICAgYWRkZWQoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJhZGRlZCIpOwogICAgfSwKICAgIHJlbW92ZWQoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJyZW1vdmVkIik7CiAgICB9LAogICAgbW92ZWQoKSB7CiAgICAgIGNvbnNvbGUubG9nKCJtb3ZlZCIpOwogICAgfSwKICAgIGhhbmRsZUZlYXR1cmVJbnB1dCh0aXRsZSkgewogICAgICB0aGlzLm15QXJyYXkuZm9yRWFjaChlID0+IHsKICAgICAgICBjb25zdCBtYXRjaCA9IHRoaXMuX21hdGNoKHRpdGxlLCBlLm5hbWUpOwogICAgICAgIGUuaXNGZWF0dXJlSGFzID0gbWF0Y2ggIT0gbnVsbDsKICAgICAgfSk7CiAgICB9LAogICAgaGFuZGxlVGlkeSgpIHsKICAgICAgLy8gcmVtb3ZlIGxpbmUgYnJlYWtzCiAgICAgIGxldCBvdXQgPSB0aGlzLmVkaXRvci5pbnB1dDsKICAgICAgb3V0ID0gb3V0LnRyaW0oKTsKICAgICAgLy8gY29udmVydCB0byBsb3dlcmNhc2UKICAgICAgb3V0ID0gb3V0LnRvTG93ZXJDYXNlKCk7CiAgICAgIC8vIHJlbW92ZSBwZWN1bGlhcnMKICAgICAgb3V0ID0gb3V0LnJlcGxhY2UoL1teYS16QS1aMC05w6TDtsO8w59dL2csICIgIik7CiAgICAgIG91dCA9IG91dC5yZXBsYWNlKC9ccysvZywgIiAiKTsKICAgICAgb3V0ID0gb3V0LnJlcGxhY2UoL1xzL2csICJcbiIpOwogICAgICB0aGlzLiRzZXQodGhpcy5lZGl0b3IsICJvdXQiLCBvdXQpOwogICAgfSwKICAgIF9tYXRjaChzLCByZSkgewogICAgICBsZXQgbmV3UmUgPSByZQogICAgICAgIC5yZXBsYWNlKC9cKC9nLCAiXFwoIikKICAgICAgICAucmVwbGFjZSgvXCkvZywgIlxcKSIpCiAgICAgICAgLnJlcGxhY2UoL1w/L2csICJcXD8iKQogICAgICAgIC5yZXBsYWNlKC9cLy9nLCAiLy8vLyIpOwogICAgICBuZXdSZSA9IGV2YWwoIi8iICsgbmV3UmUgKyAiL2lnIik7CiAgICAgIHJldHVybiBzLm1hdGNoKG5ld1JlKTsKICAgIH0sCiAgICBfc29ydEtleXNBcnJheSh4LCB5KSB7CiAgICAgIGxldCBhID0geC5uYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgIGxldCBiID0geS5uYW1lLnRvTG93ZXJDYXNlKCk7CiAgICAgIGlmIChhIDwgYikgcmV0dXJuIC0xOwogICAgICBpZiAoYSA+IGIpIHJldHVybiAxOwogICAgICByZXR1cm4gMDsKICAgIH0sCiAgICBfcGFyc2VDU1ZEYXRhKGRhdGEpIHsKICAgICAgY29uc29sZS5sb2coZGF0YSk7CiAgICAgIHZhciB0aXRsZURpYyA9IHsKICAgICAgICDlhbPplK7or406ICJuYW1lIiwKICAgICAgICDmkJzntKLph486ICJzZWFyY2giLAogICAgICAgIOeCueWHu+eOhzogImNsaWNrIiwKICAgICAgICDlh7rnjrDmrKHmlbA6ICJhcHBlYXIiCiAgICAgIH07CiAgICAgIHZhciB0aXRsZUFyciA9IFtdOwogICAgICBkYXRhWzBdLmZvckVhY2goZSA9PiB7CiAgICAgICAgdGl0bGVBcnIucHVzaCh0aXRsZURpY1tlXSk7CiAgICAgIH0pOwogICAgICBkYXRhLnNwbGljZSgwLCAxKTsKICAgICAgdmFyIG5ld0xpc3QgPSBbXTsKICAgICAgZGF0YS5mb3JFYWNoKGUgPT4gewogICAgICAgIHZhciBtb2RlbCA9IHsKICAgICAgICAgIG5hbWU6ICIiLAogICAgICAgICAgdXNlOiAwLAogICAgICAgICAgY2xpY2s6IDAsCiAgICAgICAgICBzZWFyY2g6IDAsCiAgICAgICAgICBhcHBlYXI6IDAsCiAgICAgICAgICBpc1RpdGxlSGFzOiBmYWxzZSwKICAgICAgICAgIGlzRmVhdHVyZUhhczogZmFsc2UsCiAgICAgICAgICBpc0Rlc2NIYXM6IGZhbHNlCiAgICAgICAgfTsKICAgICAgICBlLmZvckVhY2goKG0sIGlkeCkgPT4gewogICAgICAgICAgbW9kZWxbdGl0bGVBcnJbaWR4XV0gPSBtOwogICAgICAgIH0pOwogICAgICAgIG5ld0xpc3QucHVzaChtb2RlbCk7CiAgICAgIH0pOwogICAgICB0aGlzLmtleXdvcmRzQXJyYXkgPSBuZXdMaXN0OwogICAgfSwKICAgIF9jaGVja0VuY29kaW5nKGJhc2U2NFN0cikgewogICAgICAvLyDov5nnp43mlrnlvI/lvpfliLDnmoTmmK/kuIDnp43kuozov5vliLbkuLIKICAgICAgbGV0IHN0ciA9IGF0b2IoYmFzZTY0U3RyLnNwbGl0KCI7YmFzZTY0LCIpWzFdKTsKICAgICAgLy8g6KaB55So5LqM6L+b5Yi25qC85byPCiAgICAgIGxldCBlbmNvZGluZyA9IGpzY2hhcmRldC5kZXRlY3Qoc3RyKTsKICAgICAgZW5jb2RpbmcgPSBlbmNvZGluZy5lbmNvZGluZzsKICAgICAgaWYgKGVuY29kaW5nID09ICJ3aW5kb3dzLTEyNTIiKSB7CiAgICAgICAgLy8g5pyJ5pe25Lya6K+G5Yir6ZSZ6K+v77yI5aaCVVRGOOeahOS4reaWh+S6jOWtl++8iQogICAgICAgIGVuY29kaW5nID0gIkFOU0kiOwogICAgICB9CiAgICAgIHJldHVybiBlbmNvZGluZzsKICAgIH0sCiAgICBfY291bnRSZWZlcih2YWwpIHsKICAgICAgdGhpcy5rZXl3b3Jkc0FycmF5LmZvckVhY2goZSA9PiB7CiAgICAgICAgbGV0IG1hdGNoID0gdGhpcy5fbWF0Y2godmFsLnRpdGxlLCBlLm5hbWUpOwogICAgICAgIGxldCB0aXRsZUNvdW50ID0gbWF0Y2ggPyBtYXRjaC5sZW5ndGggOiAwOwogICAgICAgIGUuaXNUaXRsZUhhcyA9IG1hdGNoICE9IG51bGw7CgogICAgICAgIGxldCBmZWF0dXJlQ291bnQgPSAwOwogICAgICAgIGxldCBkZXNjQ291bnQgPSAwOwogICAgICAgIHZhbC5mZWF0dXJlcy5mb3JFYWNoKChmZSwgaWR4KSA9PiB7CiAgICAgICAgICBtYXRjaCA9IHRoaXMuX21hdGNoKGZlLnZhbHVlLCBlLm5hbWUpOwogICAgICAgICAgaWYgKGlkeCAhPSB2YWwuZmVhdHVyZXMubGVuZ3RoIC0gMSkgewogICAgICAgICAgICBpZiAobWF0Y2gpIHsKICAgICAgICAgICAgICBmZWF0dXJlQ291bnQgKz0gbWF0Y2gubGVuZ3RoOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAobWF0Y2gpIHsKICAgICAgICAgICAgICBkZXNjQ291bnQgPSBtYXRjaC5sZW5ndGg7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBlLmlzRmVhdHVyZUhhcyA9IGZlYXR1cmVDb3VudCAhPSAwOwogICAgICAgIGUuaXNEZXNjSGFzID0gZGVzY0NvdW50ICE9IDA7CiAgICAgICAgZS51c2UgPSB0aXRsZUNvdW50ICsgZmVhdHVyZUNvdW50ICsgZGVzY0NvdW50OwogICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["keywords-advantage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgGA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"keywords-advantage.vue","sourceRoot":"src/container/keywords-advantage","sourcesContent":["<template>\n  <div class=\"main\">\n    <div class=\"common-page-head\">\n      <!-- <p class=\"common-page-head-title\">阿里国际站产品标题助手v1.0</p> -->\n      <p class=\"common-page-head-title\">标题</p>\n    </div>\n    <div class=\"row\">\n      <div class=\"left\">\n        <div class=\"eni-flex\">\n          <el-button size=\"small\" type=\"primary\" plain @click=\"handleSort\">按字母排序</el-button>\n        </div>\n        <div class=\"eni-flex\" style=\"margin-top: 10px; padding-right: 10px\">\n          <p class=\"menu-title eni-w35\">关键词</p>\n          <p class=\"menu-title eni-flex-item\">搜索量</p>\n          <p class=\"menu-title eni-flex-item\">点击率</p>\n          <p class=\"menu-title eni-flex-item\">出现次数</p>\n          <p class=\"menu-title eni-flex-item\">使用次数</p>\n          <p class=\"menu-title eni-w20 eni-text-center\">出现位置</p>\n          <p class=\"menu-title eni-w5\">操作</p>\n        </div>\n        <div class=\"list-container\">\n          <draggable\n            class=\"draggable\"\n            :list=\"keywordsArray\"\n            @start=\"drag = true\"\n            @end=\"drag = false\"\n            handle=\".handle\"\n          >\n            <div :key=\"index\" class=\"cell-container\" v-for=\"(e,index) in keywordsArray\">\n              <span class=\"fa fa-align-justify handle\" />\n              <p class=\"eni-padding-wrap eni-white eni-w35\">{{e.name}}</p>\n              <p class=\"eni-padding-wrap eni-white eni-flex-item eni-text-center\">{{e.search}}</p>\n              <p class=\"eni-padding-wrap eni-white eni-flex-item eni-text-center\">{{e.click}}</p>\n              <p class=\"eni-padding-wrap eni-white eni-flex-item eni-text-center\">{{e.appear}}</p>\n              <p class=\"eni-padding-wrap eni-white eni-flex-item eni-text-center\">{{e.use}}</p>\n              <div class=\"eni-padding-wrap eni-flex eni-w20 eni-j-center\">\n                <p class=\"badge-txt badge-light\" :class=\"{'badge-success':e.isTitleHas}\">标</p>\n                <p class=\"badge-txt badge-light\" :class=\"{'badge-success':e.isFeatureHas}\">词</p>\n                <p class=\"badge-txt badge-light\" :class=\"{'badge-success':e.isDescHas}\">描</p>\n              </div>\n              <span class=\"fa fa-trash-o eni-w5\" style=\"color: red;\" @click=\"handleDelete(index)\" />\n            </div>\n          </draggable>\n        </div>\n        <el-button class=\"add-item-btn\" type=\"primary\" icon=\"el-icon-plus\" size=\"small\">\n          导入CSV文件\n          <input\n            type=\"file\"\n            ref=\"refFile\"\n            style=\"opacity:0;position:absolute;width:100%;height:100%;top:0;left:0\"\n            @change=\"handleImportCSV\"\n          />\n        </el-button>\n      </div>\n      <div class=\"keyword-container\">\n        <el-tabs v-model=\"activeTab\">\n          <el-tab-pane label=\"TKD\" name=\"tab-first\">\n            <div class=\"list-editor\">\n              <Title class=\"title\" v-model=\"editor.title\" />\n              <Feature\n                class=\"feature\"\n                :key=\"idx\"\n                :title=\"e.title\"\n                :inputHeight=\"e.inputHeight\"\n                :placeHolder=\"e.placeHolder\"\n                v-for=\"(e,idx) in editor.features\"\n                v-model=\"e.value\"\n              />\n            </div>\n          </el-tab-pane>\n          <el-tab-pane label=\"关键词预处理\" name=\"tab-second\">\n            <div>\n              <div class=\"eni-flex\">\n                <EditorInput v-model=\"editor.input\" title=\"输入\" />\n                <div style=\"width: 30px\"></div>\n                <EditorInput v-model=\"editor.out\" title=\"输出\" />\n              </div>\n              <div class=\"eni-s-between\" style=\"margin-top: 10px\">\n                <el-button type=\"primary\" icon=\"el-icon-copy\" size=\"small\" @click=\"handleTidy\">整理</el-button>\n                <el-button\n                  class=\"import-item-btn\"\n                  type=\"primary\"\n                  icon=\"el-icon-copy\"\n                  size=\"small\"\n                  @click=\"addInList\"\n                >导入到列表中</el-button>\n              </div>\n            </div>\n          </el-tab-pane>\n        </el-tabs>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport draggable from \"vuedraggable\";\nimport Title from \"./title\";\nimport Feature from \"./feature\";\nimport EditorInput from \"./editor-input\";\nimport Papa from \"papaparse\";\nimport jschardet from \"jschardet\";\n\nexport default {\n  components: { draggable, Title, Feature, EditorInput },\n  data() {\n    return {\n      activeTab: \"tab-first\",\n      keywordsArray: [],\n      editor: {\n        title: \"\",\n        input: \"\",\n        out: \"\",\n        features: [\n          {\n            title: \"关键词1\",\n            value: \"\",\n            placeHolder: \"请输入关键词\"\n          },\n          {\n            title: \"关键词2\",\n            value: \"\",\n            placeHolder: \"请输入关键词\"\n          },\n          {\n            title: \"关键词3\",\n            value: \"\",\n            placeHolder: \"请输入关键词\"\n          },\n          {\n            title: \"产品描述\",\n            value: \"\",\n            inputHeight: \"25vh\",\n            placeHolder: \"请输入产品描述\"\n          }\n        ]\n      }\n    };\n  },\n  watch: {\n    editor: {\n      handler: function(val) {\n        //FIXME: 输入、输出不进行下面的代码\n        this._countRefer(val);\n      },\n      deep: true\n    }\n  },\n  methods: {\n    handleImportCSV() {\n      let selectedFile = null;\n      selectedFile = this.$refs.refFile.files[0];\n      if (selectedFile === undefined) {\n        return;\n      }\n      var reader = new FileReader();\n      reader.readAsDataURL(selectedFile);\n      reader.onload = evt => {\n        // 检查编码\n        let encoding = this._checkEncoding(evt.target.result);\n        // 将csv转换成二维数组\n        Papa.parse(selectedFile, {\n          encoding: encoding,\n          complete: res => {\n            // UTF8 \\r\\n与\\n混用时有可能会出问题\n            let data = res.data;\n            if (data[data.length - 1] == \"\") {\n              //去除最后的空行\n              data.pop();\n            }\n            this._parseCSVData(data);\n          }\n        });\n      };\n    },\n    handleDelete(index) {\n      this.keywordsArray.splice(index, 1);\n    },\n    addInList() {\n      if (this.editor.out) {\n        let out = this.editor.out.replace(/\\n+/g, \"\\n\");\n        let outArr = out.split(\"\\n\");\n        outArr.forEach(e => {\n          this.keywordsArray.push({\n            name: e,\n            use: 0,\n            click: 0,\n            search: 0,\n            appear: 0,\n            isTitleHas: false,\n            isFeatureHas: false,\n            isDescHas: false\n          });\n        });\n        this._countRefer(this.editor);\n      }\n    },\n    handleSort() {\n      if (this.keywordsArray.length == 0) return;\n      var s = this.keywordsArray.sort(this._sortKeysArray);\n      this.keywordsArray = s;\n    },\n    added() {\n      console.log(\"added\");\n    },\n    removed() {\n      console.log(\"removed\");\n    },\n    moved() {\n      console.log(\"moved\");\n    },\n    handleFeatureInput(title) {\n      this.myArray.forEach(e => {\n        const match = this._match(title, e.name);\n        e.isFeatureHas = match != null;\n      });\n    },\n    handleTidy() {\n      // remove line breaks\n      let out = this.editor.input;\n      out = out.trim();\n      // convert to lowercase\n      out = out.toLowerCase();\n      // remove peculiars\n      out = out.replace(/[^a-zA-Z0-9äöüß]/g, \" \");\n      out = out.replace(/\\s+/g, \" \");\n      out = out.replace(/\\s/g, \"\\n\");\n      this.$set(this.editor, \"out\", out);\n    },\n    _match(s, re) {\n      let newRe = re\n        .replace(/\\(/g, \"\\\\(\")\n        .replace(/\\)/g, \"\\\\)\")\n        .replace(/\\?/g, \"\\\\?\")\n        .replace(/\\//g, \"////\");\n      newRe = eval(\"/\" + newRe + \"/ig\");\n      return s.match(newRe);\n    },\n    _sortKeysArray(x, y) {\n      let a = x.name.toLowerCase();\n      let b = y.name.toLowerCase();\n      if (a < b) return -1;\n      if (a > b) return 1;\n      return 0;\n    },\n    _parseCSVData(data) {\n      console.log(data);\n      var titleDic = {\n        关键词: \"name\",\n        搜索量: \"search\",\n        点击率: \"click\",\n        出现次数: \"appear\"\n      };\n      var titleArr = [];\n      data[0].forEach(e => {\n        titleArr.push(titleDic[e]);\n      });\n      data.splice(0, 1);\n      var newList = [];\n      data.forEach(e => {\n        var model = {\n          name: \"\",\n          use: 0,\n          click: 0,\n          search: 0,\n          appear: 0,\n          isTitleHas: false,\n          isFeatureHas: false,\n          isDescHas: false\n        };\n        e.forEach((m, idx) => {\n          model[titleArr[idx]] = m;\n        });\n        newList.push(model);\n      });\n      this.keywordsArray = newList;\n    },\n    _checkEncoding(base64Str) {\n      // 这种方式得到的是一种二进制串\n      let str = atob(base64Str.split(\";base64,\")[1]);\n      // 要用二进制格式\n      let encoding = jschardet.detect(str);\n      encoding = encoding.encoding;\n      if (encoding == \"windows-1252\") {\n        // 有时会识别错误（如UTF8的中文二字）\n        encoding = \"ANSI\";\n      }\n      return encoding;\n    },\n    _countRefer(val) {\n      this.keywordsArray.forEach(e => {\n        let match = this._match(val.title, e.name);\n        let titleCount = match ? match.length : 0;\n        e.isTitleHas = match != null;\n\n        let featureCount = 0;\n        let descCount = 0;\n        val.features.forEach((fe, idx) => {\n          match = this._match(fe.value, e.name);\n          if (idx != val.features.length - 1) {\n            if (match) {\n              featureCount += match.length;\n            }\n          } else {\n            if (match) {\n              descCount = match.length;\n            }\n          }\n        });\n        e.isFeatureHas = featureCount != 0;\n        e.isDescHas = descCount != 0;\n        e.use = titleCount + featureCount + descCount;\n      });\n    }\n  }\n};\n</script>\n\n<style lang=\"less\" scoped>\n.handle {\n  color: white;\n}\n.row {\n  display: flex;\n}\n.import-item-btn {\n  margin-right: 40px;\n}\n.list-editor {\n  .title,\n  .feature {\n    margin-bottom: 10px !important;\n  }\n}\n.menu-title {\n  color: #111;\n  font-size: 12px;\n}\n.main {\n  font-size: 14px;\n  padding-right: 15px;\n  padding-left: 15px;\n  height: 100%;\n  overflow: auto;\n\n  .left {\n    flex: 1 1 50%;\n    margin-top: 40px;\n\n    .list-container {\n      background-color: #fff;\n      margin-top: 4px;\n      min-height: 200px;\n      overflow: auto;\n\n      .draggable {\n        border: 1px solid #ced4da;\n      }\n\n      .cell-container {\n        height: 46px;\n        background-color: #212529;\n        display: flex;\n        align-items: center;\n        border-top: 0.5px solid #32383e;\n        padding: 0.75rem 1.25rem;\n\n        .title {\n          text-align: left;\n          margin-left: 10px;\n          margin-right: 8px;\n          font-size: 14px;\n          color: #fff;\n        }\n        .badge-txt {\n          margin-left: 3px;\n          padding: 3px;\n          font-size: 12px;\n        }\n        .badge-light {\n          color: #111;\n          background-color: #f8f9fa;\n        }\n        .badge-success {\n          color: #fff;\n          background-color: #28a745;\n        }\n      }\n    }\n    .add-item-btn {\n      margin-top: 12px;\n      margin-bottom: 12px;\n      position: relative;\n    }\n  }\n\n  .keyword-container {\n    padding-left: 15px;\n    flex: 1 1 50%;\n    margin-bottom: 20px;\n  }\n  @media (min-height: 400px) {\n    .list-container {\n      max-height: 275px;\n    }\n  }\n  @media (min-height: 575px) {\n    .list-container {\n      max-height: 375px;\n    }\n  }\n  @media (min-height: 767px) {\n    .list-container {\n      max-height: 575px;\n    }\n  }\n  @media (min-height: 850px) {\n    .list-container {\n      max-height: 675px;\n    }\n  }\n  @media (min-height: 900px) {\n    .list-container {\n      max-height: 775px;\n    }\n  }\n  @media (max-width: 980px) {\n    .row {\n      display: block;\n    }\n  }\n}\n</style>"]}]}